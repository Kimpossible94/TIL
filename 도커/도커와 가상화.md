# 도커와 가상화
도커는 컨테이너 기반의 가상화 도구입니다.  
저는 `가상화`에 대한 개념이 없기 때문에 우선 가상화가 무엇인지 부터 간략하게 정리해보겠습니다.

## 가상화
가상화폐는 실제로 존재하지 않지만 이를 통해 실제로 물건을 구입할 수 있는 화폐의 역할을 가집니다. 
이런 가상이라는 개념을 컴퓨터의 가상화에 대입해보면 실제로 존재하는 컴퓨터가 아니지만, 마치 존재하는 것처럼 만들어주는 기술을 말합니다.  

![Alt text](./이미지/virtualization_1.png)

실제로 존재하는 것을 물리적, 가상으로 존재하는 것을 논리적으로 존재한다고 합니다.
가상화를 좀 더 기술적으로 정리하면, 물리적인 하드웨어 컴퓨팅 환경에서 여러 개의 논리적인 독립된 운영체제 인스턴스를 실행할 수 있도록 하는 기술입니다.  
(하나의 컴퓨터에서 여러개의 컴퓨터를 가진 것처럼 실행시킬 수 있음, 성능이 좋아야 함.)

### 가상화의 사용 이유
8코어/64GB 성능의 서버 컴퓨터가 있고,
그 안에서 평균적으로 1코어/8GB 메모리를 소모하는 프로그램 A 4개를 실행한다고 하면 총 소모되는 리소스는 4코어/32GB 입니다.  

OS도 리소스를 사용하기 때문에 OS도 1코어/8GB가 필요하다고 가정하면,  
총 5코어/40GB 메모리를 사용할 것 입니다.  

아직 서버 컴퓨터의 리로스에 여유가 있고, 하나의 OS에서 모두 실행되기 때문에 관리하기도 편해보입니다.  
하지만, 하나의 프로세스에서 문제가 생기면 다른 프로세스에도 문제가 생길 수 있고,  
특정 프로세스의 사용량이 급증해 리소스를 모두 소모해야한다면, 마찬가지로 나머지 프로세스가 정상적으로 동작하지 않을 수 있습니다.  

운영환경에서 이렇게 운영중인 환경이 멈추는 것은 아주 큰 문제로 이어지기 때문에 하나의 OS에서 운영하는 것은 피하는 것이 좋습니다.  

가상화를 사용하면 하나의 컴퓨터에 여러개의 논리적인 OS 환경을 사용할 수 있습니다.  
그리고 이렇게 만들어진 논리적인 환경에 사용자가 리소스를 직접 분배할 수 있습니다.(리소스의 최대값 등을 정함)  

이렇게 만들어진 논리적인 OS 환경은 필요한 총 리소스의 전체적인 양은 늘지만,  
각각의 OS가 논리적으로 서로 격리되어있기 때문에 앞서말한 문제점에 대해서 해결할 수 있습니다.  

### 하드웨어를 늘리는 방법은 왜 잘 사용하지 않을까 ?
날이 갈수록 하드웨어의 성능은 빠르게 발전하고있고, 소프트웨어의 크기는 감소하는 추세이기 때문에  
기업 입장에서는 같은 사양의 컴퓨터를 여러대 구성해서 각각 프로그램을 실행하는 것보다 성능이 좋은 하나의 하드웨어를 구성하는 것이  
가격, 설치 공간, 서버 운영 등의 많은 면에서 훨씬 경제적입니다.  

## 가상화 방식
가상화 방식은 크게 하이퍼바이저 방식과 컨테이너 방식이 있습니다.  

### 하이퍼바이저
하이퍼바이저는 가상 머신(VM)을 생성하고 구동하는 소프트웨어입니다.  
가상 머신 모니터(VMM)라고도 하는 하이퍼바이저는 VM에서 하이퍼바이저 운영 체제와 리소스를 분리하고 해당 VM을 생성 및 관리할 수 있게 해줍니다.  

하이퍼바이저로 사용되는 물리 하드웨어를 호스트라고 하며 그 리소스를 사용하는 여러 VM을 게스트라고 합니다.
