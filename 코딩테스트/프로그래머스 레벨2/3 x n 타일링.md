# 3 x n 타일링
## 문제 설명
가로 길이가 2이고 세로의 길이가 1인 직사각형 모양의 타일이 있습니다. 이 직사각형 타일을 이용하여 세로의 길이가 3이고 가로의 길이가 n인 바닥을 가득 채우려고 합니다. 타일을 채울 때는 다음과 같이 2가지 방법이 있습니다

* 타일을 가로로 배치 하는 경우
* 타일을 세로로 배치 하는 경우

예를들어서 n이 8인 직사각형은 다음과 같이 채울 수 있습니다.

![Alt text](./이미지/3%20x%20n.png)

직사각형의 가로의 길이 n이 매개변수로 주어질 때, 이 직사각형을 채우는 방법의 수를 return 하는 solution 함수를 완성해주세요.

## 제한 조건
* 가로의 길이 n은 5,000이하의 자연수 입니다. 
* 경우의 수가 많아 질 수 있으므로, 경우의 수를 1,000,000,007으로 나눈 나머지를 return해주세요.

## 풀이
### 나의 풀이

우선 n이 홀수일 때는 가득 채울 수 없기 때문에 값을 구할 수 없다.  

그래서 n이 짝수일 때만 보면
n = 2 일 때는 3가지의 경우가 있다.
n = 4 일 때는 n = 2 일 때의 패턴을 이용한 9개의 패턴과 예외 케이스가 2개가 있다.  

여기까지해서 알아낸 것은 n이 짝수일 때만 값이 나오므로 가로 길이가 2칸씩 늘어나고 세로길이는 고정이므로,  
n = 2에서 나온 패턴으로 확실하게 나오는 패턴들을 구할 수 있다는 것과, 이에 해당하지 않는 예외 케이스가 있다는 것.

그럼 n = 6일 때는 n = 4일 때 구한 값에 3을 곱하면 구할 수 있다.  
그리고 n = 4일 때 나온 예외케이스가 앞에 붙을 수도 있고 뒤에 붙을 수 있기 때문에  

![Alt text](./이미지/3%20x%20n%20(2).png) 

그림처럼 f(2) = 3 값과 예외케이스 2개의 값을 곱해서 전체값에 더해주고 마지막으로 n=6일 때나온 예외케이스 2개도 더헤준다.

마지막으로 n = 8일 때도 마찬가지로 n = 6일 때 나온 값과 3을 곱해주고  
n=4, n=6 일 때 예외 케이스가 앞뒤 모두에 붙을 수 있으므로 아래 그림처럼 구해준다.  

![Alt text](./이미지/3%20x%20n%20(3).png)

역시 마찬가지로 n = 8 에서나온 에외케이스 2개도 더해준다.  
그러면 전체적인 점화식은 아래처럼 구해진다.  

$f(n)=f(n-2)*3+\overset{n-2}{\underset{i=4}{\sum}} (2*f(n-i)+2$
  
이걸 코드로 구한하면 아래와 같다.  

```java
class Solution {
    public long solution(int n) {
        if (n % 2 != 0) return 0; // 홀수일 경우 0 리턴

        long[] answer = new long[n + 1];
        answer[0] = 1;
        answer[2] = 3;

        for (int i = 4; i <= n; i += 2) { // 4부터 반복문 시작
            answer[i] += answer[i - 2] * answer[2]; // 이전 값과 f(2)를 곱해서 더해줌

            // 특수케이스가 앞뒤로 나올 수 있는 경우 계산
            for (int j = i-4; j >= 0; j -= 2) {
                answer[i] += answer[j] * 2;
            }
            answer[i] %= 1000000007;
        }
        
        return answer[n];
    }
}
```

이번 문제는 점화식을 구하기 위해서 패턴을 보는게 어려워서 블로그를 참조했다.  
[참조블로그](https://s2choco.tistory.com/24)